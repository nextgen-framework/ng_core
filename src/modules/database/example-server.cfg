# NextGen Framework - Database Configuration Example
# Add these lines to your server.cfg

# ============================================
# oxmysql Configuration
# ============================================

# Ensure oxmysql resource starts first
ensure oxmysql

# MySQL Connection String
# Format: mysql://user:password@host:port/database?options
set mysql_connection_string "mysql://root:password@localhost/nextgen?charset=utf8mb4"

# MySQL Debug Mode (optional, shows all queries)
set mysql_debug false

# MySQL Slow Query Warning (milliseconds)
set mysql_slow_query_warning 150

# Connection Pool Size
set mysql_connection_limit 10

# ============================================
# Alternative: Using individual settings
# ============================================

# You can also use individual settings instead of connection string:
# set mysql_host "localhost"
# set mysql_port 3306
# set mysql_user "root"
# set mysql_password "password"
# set mysql_database "nextgen"

# ============================================
# NextGen Framework
# ============================================

ensure ng-core

# Framework debug mode (optional)
set ngcore_debug false

# ============================================
# Example Database Setup
# ============================================

# 1. Create MySQL database:
#    mysql -u root -p
#    CREATE DATABASE nextgen CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
#    GRANT ALL PRIVILEGES ON nextgen.* TO 'fivem'@'localhost' IDENTIFIED BY 'password';
#    FLUSH PRIVILEGES;

# 2. Update connection string above with your credentials

# 3. Start server - migrations will run automatically and create tables

# ============================================
# Troubleshooting
# ============================================

# If you get "Database not connected":
# - Check MySQL is running: sudo systemctl status mysql
# - Check connection string is correct
# - Check database exists: mysql -u root -p -e "SHOW DATABASES;"
# - Check oxmysql is installed in resources/oxmysql/

# Enable oxmysql debug to see connection issues:
# set mysql_debug true
